# mycrogue - 進捗管理

## プロジェクト概要

- **開始日**: 2025-12-21
- **現在フェーズ**: Phase 1 (コアループ) - 実装中
- **次のフェーズ**: Phase 2 (基本戦闘)

---

## 全体進捗

```
Phase 0: 準備・設計         [████████████████████] 100%
Phase 1: コアループ         [████████░░░░░░░░░░░░]  40%
Phase 2: 基本戦闘           [░░░░░░░░░░░░░░░░░░░░]   0%
Phase 3: ダンジョン         [░░░░░░░░░░░░░░░░░░░░]   0%
Phase 4: アイテム・成長     [░░░░░░░░░░░░░░░░░░░░]   0%
Phase 5: メタ進行           [░░░░░░░░░░░░░░░░░░░░]   0%
Phase 6: ボス・バランス     [░░░░░░░░░░░░░░░░░░░░]   0%
Phase 7: 仕上げ             [░░░░░░░░░░░░░░░░░░░░]   0%

全体進捗: 17.5% (Phase 0 完了 + Phase 1 40%)
```

---

## Phase 0: 準備・設計 ✅

### 状態: 完了
### 期間: 2025-12-21

#### 完了項目
- [x] 要件定義・ヒアリング
- [x] システム設計
- [x] 関数型スタイル設計への修正
- [x] DESIGN.md 作成
- [x] PLAN.md 作成
- [x] PROGRESS.md 作成

#### 成果物
- [DESIGN.md](DESIGN.md): システム設計書
- [PLAN.md](PLAN.md): 作業計画書
- PROGRESS.md: このファイル

#### メモ
- 関数型プログラミングスタイルを採用
- データと関数を分離
- ピュア関数と副作用の明確な分離

---

## Phase 1: コアループ

### 状態: 実装中 (40%)
### 目標: 60fps ゲームループと入力システムの基盤構築

#### タスク進捗

##### 1.1 プロジェクト初期化
- [x] ディレクトリ構造作成
- [x] package.json 作成
- [x] tsconfig.json 作成
- [x] .gitignore 作成

##### 1.2 型定義
- [x] `src/types/Input.ts`
- [ ] `src/types/GameState.ts`
- [ ] `src/core/random.ts`

##### 1.3 入力システム
- [ ] `src/input/inputSystem.ts`

##### 1.4 描画システム
- [ ] `src/rendering/render.ts`

##### 1.5 ゲームループ
- [ ] `src/core/gameLoop.ts`

##### 1.6 動作確認デモ
- [ ] `src/main.ts`
- [ ] 矢印キーでカーソル移動デモ

#### 完了条件
- [ ] 60fps で動作するゲームループ
- [ ] キーボード入力の受付
- [ ] 画面への文字列描画
- [ ] デモが正常に動作

---

## Phase 2: 基本戦闘システム

### 状態: 未着手
### 目標: グリッドベースの戦術戦闘の基礎

#### タスク進捗

##### 2.1 型定義
- [ ] `src/types/Entity.ts`
- [ ] `src/types/CombatState.ts`

##### 2.2 グリッドシステム
- [ ] `src/combat/grid.ts`

##### 2.3 エンティティ操作
- [ ] `src/combat/entity.ts`

##### 2.4 タイムラインシステム
- [ ] `src/combat/timeline.ts`

##### 2.5 戦闘更新ロジック
- [ ] `src/combat/combat.ts`

##### 2.6 戦闘描画
- [ ] `src/rendering/formatters.ts`

##### 2.7 動作確認デモ
- [ ] 1vs1 戦闘デモ

#### 完了条件
- [ ] プレイヤーが敵を倒せる
- [ ] 敵のシンプルな AI
- [ ] タイムラインゲージが正しく動作

---

## Phase 3: ダンジョンシステム

### 状態: 未着手
### 目標: 部屋の分岐構造とダンジョン探索

#### タスク進捗

##### 3.1 型定義
- [ ] `src/types/Dungeon.ts`

##### 3.2 部屋生成
- [ ] `src/world/room.ts`

##### 3.3 グラフ構造
- [ ] `src/world/graph.ts`

##### 3.4 ダンジョン生成
- [ ] `src/world/dungeon.ts`

##### 3.5 ナビゲーション
- [ ] `src/core/update.ts` 拡張

##### 3.6 ダンジョン描画
- [ ] `src/rendering/formatters.ts` 拡張

##### 3.7 動作確認デモ
- [ ] 簡易ダンジョン探索デモ

#### 完了条件
- [ ] 部屋選択が機能する
- [ ] 戦闘とナビゲーションの切り替え
- [ ] ボス部屋までたどり着ける

---

## Phase 4: アイテム・成長システム

### 状態: 未着手
### 目標: トロフィー・トレジャーとキャラクター成長

#### タスク進捗

##### 4.1 型定義
- [ ] `src/types/Items.ts`

##### 4.2 トロフィーシステム
- [ ] `src/items/trophy.ts`

##### 4.3 トレジャーシステム
- [ ] `src/items/treasure.ts`

##### 4.4 報酬システム
- [ ] `src/core/update.ts` 拡張

##### 4.5 マスターデータ
- [ ] `data/trophies.json`
- [ ] `data/treasures.json`

##### 4.6 報酬描画
- [ ] `src/rendering/formatters.ts` 拡張

##### 4.7 動作確認デモ
- [ ] 報酬選択デモ

#### 完了条件
- [ ] アイテム取得が機能する
- [ ] 効果が正しく適用される
- [ ] プレイヤーが強化される実感

---

## Phase 5: メタプログレッション

### 状態: 未着手
### 目標: プレイ間でのアンロック要素

#### タスク進捗

##### 5.1 型定義
- [ ] `src/types/MetaProgress.ts`

##### 5.2 アンロックシステム
- [ ] `src/progression/meta.ts`

##### 5.3 保存システム
- [ ] `src/progression/save.ts`

##### 5.4 初期化処理
- [ ] `src/main.ts` 修正

##### 5.5 アンロック条件定義
- [ ] `data/unlocks.json`

##### 5.6 動作確認デモ
- [ ] アンロック確認デモ

#### 完了条件
- [ ] セーブデータが正しく保存・読み込み
- [ ] アンロック条件が機能
- [ ] プレイを重ねるごとに選択肢が増える

---

## Phase 6: ボス戦・バランス調整

### 状態: 未着手
### 目標: ボス戦実装とゲームバランス調整

#### タスク進捗

##### 6.1 ボス定義
- [ ] `data/enemies.json` 拡張

##### 6.2 ボス AI
- [ ] `src/combat/ai.ts`

##### 6.3 特殊スキル
- [ ] `src/combat/actions.ts` 拡張

##### 6.4 バランス調整
- [ ] 敵ステータス調整
- [ ] アイテム効果調整
- [ ] タイムライン速度調整
- [ ] AP コスト調整

##### 6.5 テストプレイ
- [ ] プレイ時間確認
- [ ] 難易度曲線チェック
- [ ] アイテムバランスチェック

#### 完了条件
- [ ] ボス戦が楽しい
- [ ] 難易度が適切
- [ ] 1プレイ 30〜40分

---

## Phase 7: 仕上げ・最適化

### 状態: 未着手
### 目標: UI改善、最適化、ポリッシュ

#### タスク進捗

##### 7.1 UI 改善
- [ ] ASCII レイアウト改善
- [ ] 色付け (ANSI)
- [ ] エフェクト表現

##### 7.2 エラーハンドリング
- [ ] 不正入力への対応
- [ ] セーブデータ破損対応
- [ ] エラーメッセージ改善

##### 7.3 パフォーマンス最適化
- [ ] 不要な再計算削減
- [ ] メモ化導入

##### 7.4 ドキュメント整備
- [ ] README.md 作成
- [ ] コメント追加

##### 7.5 最終テスト
- [ ] フルプレイテスト
- [ ] バグ修正
- [ ] エッジケースチェック

#### 完了条件
- [ ] 安定して動作
- [ ] UI が分かりやすい
- [ ] ドキュメントが揃っている

---

## 変更履歴

### 2025-12-21
- プロジェクト開始
- Phase 0 完了: 設計書・計画書作成
- Phase 1 開始: プロジェクト初期化完了
  - ディレクトリ構造作成
  - package.json, tsconfig.json, .gitignore 作成
  - src/types/Input.ts 作成

---

## メモ・課題

### 技術的な検討事項
- (なし)

### 今後の拡張案
- Web UI への移植
- マルチプレイヤー対応
- モバイル対応

---

## 次のアクション

1. Phase 1 の実装開始
2. プロジェクト初期化
3. ゲームループの実装

---

_このファイルは各フェーズの進捗に応じて更新されます_
